"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}!function(t){t.fn.jQueryInputTags=function(e){var a=this,n={maxTotalSize:255,maxTagSize:15,minTagSize:3,chars:/[:,]/,keycode:/(^9$|^13$)/,separator:","},e=t.extend({},n,e),i={init:function(){i.populate(a),i.handlers()},addTag:function(e,a){i.getTagList(e);t(e).find('input[type="text"]').val(""),i.addTagListItem(e,a),t(e).find(".tag").remove();try{i.getTagList(e).forEach(function(a,n){t(e).append('<div class="tag" data-tag-value="'+a+'">'+a+'<div class="delete" data-tag-value="'+a+'">+</div></div>')})}catch(n){}},deleteTag:function(e,a){if(t(e).find('input[type="text"]').hasClass("duplicated"))t(e).find('input[type="text"]').removeClass("duplicated");else{var n=i.getTagList(e);n.length&&("last"===a?n.pop():n.splice(a,1),t(e).find('input[type="hidden"]').val(n=n.toString()),t(e).find(".tag").remove(),i.populate(e))}},addTagListItem:function(a,n){var i=new Set(t(a).find('input[type="hidden"]').val().split(e.separator));n.split(e.chars).forEach(function(t,a){t.length>e.minTagSize&&t.length<=e.maxTagSize&&(i.add(t),[].concat(_toConsumableArray(i)).toString().length>=e.maxTotalSize&&i["delete"](t))}),t(a).find('input[type="hidden"]').val([].concat(_toConsumableArray(i)).toString())},getTagList:function(a){var n=t(a).find('input[type="hidden"]').val().length?t(a).find('input[type="hidden"]').val().split(""+e.separator):"";return""===n[0]&&n.splice(0,1),n},populate:function(e){t(e).each(function(e,a){t(a).find('input[type="hidden"]').val().length&&i.addTag(a,i.getTagList(a).toString())})},handlers:function(){t(a).on("keyup keydown",function(t){var a=t.target.value;(e.keycode.test(t.keyCode)||e.chars.test(a))&&a.length>e.minTagSize&&i.addTag(t.currentTarget,a)}),t(a).on("keyup",function(t){var e=t.target.value;8===t.keyCode&&0===e.length&&i.deleteTag(t.currentTarget,"last")}),t(a).on("click",function(e){t(e.target).hasClass("delete")&&i.deleteTag(e.currentTarget,t(e.target).parent(".tag").index()-2)})}};i.init()}}(jQuery);